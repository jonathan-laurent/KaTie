query 'example.csv'
match p:{ s1:S(x{u/p}), s2:S(x{u/p}) }
and last b1:{ s1:S(d[./1]), k1:K(d[./1]) } before p
and b1:{ k1:K(x{p}) }
and last b2:{ s2:S(d[./1]), k2:K(d[./1]) } before p
return {
    'p': event_id{p}, 'b1': event_id{b1}, 'b2': event_id{b2},
    's1': agent_id{s1}, 's2': agent_id{s2}, 'k1': agent_id{k1}, 'k2': agent_id{k2} }