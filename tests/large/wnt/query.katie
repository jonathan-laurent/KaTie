query 'wait_times.csv'
match i:{+c:Cat}
and first p:{c:Cat(S45{un/ph})} after i
and first d:{-c:Cat} after p
return {'agent_id': agent_id{c}, 'time_p': time[p], 'time_d': time[d]}

query 'rules.csv'
match e return rule[e]

query 'undo_S45.csv'
match e:{c:Cat(S45{ph/un})}
return {'agent_id': agent_id{c}, 'time': time[e]}

query 'undo_T41.csv'
match e:{c:Cat(T41{ph/un})}
return {'agent_id': agent_id{c}, 'time': time[e]}

query 'undo_S37.csv'
match e:{c:Cat(S37{ph/un})}
return {'agent_id': agent_id{c}, 'time': time[e]}

query 'undo_S33.csv'
match e:{c:Cat(S33{ph/un})}
return {'agent_id': agent_id{c}, 'time': time[e]}

query 'component_size.csv'
match d:{-c:Cat}
and last p1:{ c:Cat(S45{un/ph}[1]), k1:CK1(c[1])} before d
and last p2:{ c:Cat(T41{un/ph}[1]), k2:GSK(c[1])} before d
and last p3:{ c:Cat(S37{un/ph}[1]), k3:GSK(c[1])} before d
and last p4:{ c:Cat(S33{un/ph}[1]), k4:GSK(c[1])} before d
return
	agent_id{k1}, count{'Axn'}{component[.p1]{k1}}, count{'APC'}{component[.p1]{k1}},
	agent_id{k2}, count{'Axn'}{component[.p2]{k2}}, count{'APC'}{component[.p2]{k2}},
	agent_id{k3}, count{'Axn'}{component[.p3]{k3}}, count{'APC'}{component[.p3]{k3}},
	agent_id{k4}, count{'Axn'}{component[.p4]{k4}}, count{'APC'}{component[.p4]{k4}}
